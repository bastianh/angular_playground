[supervisord]
nodaemon=true

[unix_http_server]
file=/var/run/supervisor.sock
chmod=0700


[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface


[supervisorctl]
serverurl=unix:///var/run/supervisor.sock


[program:app-debug]
command=python3 /code/manage.py runserver -d -r -h 0.0.0.0
redirect_stderr=true
autostart=False


[program:uwsgi-devel]
user=nobody
redirect_stderr=true
command=uwsgi --ini /code/config/uwsgi.ini:devel


[program:tornado]
command=python -c "from backend.tornado import create_app;create_app()"


[program:celery]
user=nobody
redirect_stderr=true
command=celery -A backend.tasks worker -l info
autostart=True
